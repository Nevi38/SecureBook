{"ast":null,"code":"import axios from 'axios';\nconst endpoint = `${process.env.REACT_APP_SERVER_SERVICE}/api/posts`;\nexport const createPost = async (content, image) => {\n  try {\n    const form = new FormData();\n    form.append('post', JSON.stringify(content));\n    form.append('file', image);\n    const response = await axios.post(endpoint, form, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const getPosts = async (limit, offset) => {\n  try {\n    const response = await axios.get(endpoint, {\n      params: {\n        limit,\n        offset\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const deletePost = async postId => {\n  try {\n    const response = await axios.delete(`${endpoint}/${postId}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const getPost = async postId => {\n  try {\n    const response = await axios.get(`${endpoint}/${postId}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// get post by user id with limit and offet\nexport const getPostByUserId = async (userId, limit, offset) => {\n  try {\n    console.log(`${endpoint}/user/${userId}`);\n    const response = await axios.get(`${endpoint}/user/${userId}`, {\n      params: {\n        limit,\n        offset\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};","map":{"version":3,"names":["axios","endpoint","process","env","REACT_APP_SERVER_SERVICE","createPost","content","image","form","FormData","append","JSON","stringify","response","post","headers","data","error","console","getPosts","limit","offset","get","params","deletePost","postId","delete","getPost","getPostByUserId","userId","log"],"sources":["C:/Users/quoct/Data/Projects/secure-book-v2/client/src/services/post.service.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst endpoint = `${process.env.REACT_APP_SERVER_SERVICE}/api/posts`;\r\n\r\nexport const createPost = async (content, image) => {\r\n    try {\r\n        const form = new FormData()\r\n        form.append('post', JSON.stringify(content))\r\n        form.append('file', image)\r\n        \r\n        const response = await axios.post(endpoint, form, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n            },\r\n        })\r\n\r\n        return response.data;\r\n       \r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport const getPosts = async (limit, offset) => {\r\n    try {\r\n        const response = await axios.get(endpoint, {\r\n            params: {\r\n                limit,\r\n                offset\r\n            }\r\n        })\r\n\r\n        return response.data;\r\n       \r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport const deletePost = async (postId) => {\r\n    try {\r\n        const response = await axios.delete(`${endpoint}/${postId}`)\r\n\r\n        return response.data;\r\n       \r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport const getPost = async (postId) => {\r\n    try {\r\n        const response = await axios.get(`${endpoint}/${postId}`)\r\n\r\n        return response.data;\r\n       \r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\n// get post by user id with limit and offet\r\nexport const getPostByUserId = async (userId, limit, offset) => {\r\n    try {\r\n        console.log(`${endpoint}/user/${userId}`)\r\n        const response = await axios.get(`${endpoint}/user/${userId}`, {\r\n            params: {\r\n                limit,\r\n                offset\r\n            }\r\n        })\r\n\r\n        return response.data;\r\n       \r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAI,GAAEC,OAAO,CAACC,GAAG,CAACC,wBAAyB,YAAW;AAEpE,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOC,OAAO,EAAEC,KAAK,KAAK;EAChD,IAAI;IACA,MAAMC,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC3BD,IAAI,CAACE,MAAM,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACN,OAAO,CAAC,CAAC;IAC5CE,IAAI,CAACE,MAAM,CAAC,MAAM,EAAEH,KAAK,CAAC;IAE1B,MAAMM,QAAQ,GAAG,MAAMb,KAAK,CAACc,IAAI,CAACb,QAAQ,EAAEO,IAAI,EAAE;MAC9CO,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IAEF,OAAOF,QAAQ,CAACG,IAAI;EAExB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;EACxB;AACJ,CAAC;AAED,OAAO,MAAME,QAAQ,GAAG,MAAAA,CAAOC,KAAK,EAAEC,MAAM,KAAK;EAC7C,IAAI;IACA,MAAMR,QAAQ,GAAG,MAAMb,KAAK,CAACsB,GAAG,CAACrB,QAAQ,EAAE;MACvCsB,MAAM,EAAE;QACJH,KAAK;QACLC;MACJ;IACJ,CAAC,CAAC;IAEF,OAAOR,QAAQ,CAACG,IAAI;EAExB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;EACxB;AACJ,CAAC;AAED,OAAO,MAAMO,UAAU,GAAG,MAAOC,MAAM,IAAK;EACxC,IAAI;IACA,MAAMZ,QAAQ,GAAG,MAAMb,KAAK,CAAC0B,MAAM,CAAE,GAAEzB,QAAS,IAAGwB,MAAO,EAAC,CAAC;IAE5D,OAAOZ,QAAQ,CAACG,IAAI;EAExB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;EACxB;AACJ,CAAC;AAED,OAAO,MAAMU,OAAO,GAAG,MAAOF,MAAM,IAAK;EACrC,IAAI;IACA,MAAMZ,QAAQ,GAAG,MAAMb,KAAK,CAACsB,GAAG,CAAE,GAAErB,QAAS,IAAGwB,MAAO,EAAC,CAAC;IAEzD,OAAOZ,QAAQ,CAACG,IAAI;EAExB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;EACxB;AACJ,CAAC;;AAED;AACA,OAAO,MAAMW,eAAe,GAAG,MAAAA,CAAOC,MAAM,EAAET,KAAK,EAAEC,MAAM,KAAK;EAC5D,IAAI;IACAH,OAAO,CAACY,GAAG,CAAE,GAAE7B,QAAS,SAAQ4B,MAAO,EAAC,CAAC;IACzC,MAAMhB,QAAQ,GAAG,MAAMb,KAAK,CAACsB,GAAG,CAAE,GAAErB,QAAS,SAAQ4B,MAAO,EAAC,EAAE;MAC3DN,MAAM,EAAE;QACJH,KAAK;QACLC;MACJ;IACJ,CAAC,CAAC;IAEF,OAAOR,QAAQ,CAACG,IAAI;EAExB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;EACxB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}