{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\quoct\\\\Data\\\\Projects\\\\secure-book-v2\\\\client\\\\src\\\\components\\\\ImageUploadButton.jsx\",\n  _s = $RefreshSig$();\nimport { useRef } from 'react';\nimport Resizer from 'react-image-file-resizer';\n\n/**\r\n * @param {function} showBoxReview: function hiển thị box review (nếu có) \r\n * @param {function} setMedia: File object\r\n * @param {Ref} mediaSourceRef: DOM element của div hiển thị background image (render image)\r\n * @param {Ref} isActive: Trạng thái kích hoạt button khác, nếu nó là true thì không cho phép click vào button này\r\n * @returns \r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ImageUploadButton({\n  isActive,\n  setMedia\n}) {\n  _s();\n  const imageInputRef = useRef();\n  async function handleMediaChange(event) {\n    const file = event.target.files[0];\n    if (file) {\n      // Cho toàn bộ sự kiện khi click vào nút tải ảnh, tải video biêt đang có 1 file đang được hiển thị\n      isActive.current = true;\n\n      // Render\n      const resize = await resizeFile(file);\n      setMedia(resize);\n    }\n  }\n  const resizeFile = file => {\n    return new Promise(resolve => {\n      Resizer.imageFileResizer(file, 1920, 1080, 'JPEG', 100, 0, uri => {\n        resolve(uri);\n      }, 'file');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"icon-heading\",\n      src: \"https://img.icons8.com/pulsar-color/48/pictures-folder.png\",\n      alt: \"pictures-folder\",\n      onClick: e => !isActive.current && imageInputRef.current.click()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      style: {\n        display: 'none'\n      },\n      onChange: handleMediaChange,\n      ref: imageInputRef,\n      multiple: true,\n      name: \"image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n_s(ImageUploadButton, \"bg6sEbmoYJ8A2/n2g7pZFxYOves=\");\n_c = ImageUploadButton;\nvar _c;\n$RefreshReg$(_c, \"ImageUploadButton\");","map":{"version":3,"names":["useRef","Resizer","jsxDEV","_jsxDEV","ImageUploadButton","isActive","setMedia","_s","imageInputRef","handleMediaChange","event","file","target","files","current","resize","resizeFile","Promise","resolve","imageFileResizer","uri","children","className","src","alt","onClick","e","click","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","style","display","onChange","ref","multiple","name","_c","$RefreshReg$"],"sources":["C:/Users/quoct/Data/Projects/secure-book-v2/client/src/components/ImageUploadButton.jsx"],"sourcesContent":["import { useRef } from 'react'\r\nimport Resizer from 'react-image-file-resizer';\r\n\r\n/**\r\n * @param {function} showBoxReview: function hiển thị box review (nếu có) \r\n * @param {function} setMedia: File object\r\n * @param {Ref} mediaSourceRef: DOM element của div hiển thị background image (render image)\r\n * @param {Ref} isActive: Trạng thái kích hoạt button khác, nếu nó là true thì không cho phép click vào button này\r\n * @returns \r\n */\r\nexport default function ImageUploadButton({ isActive, setMedia }) {\r\n    const imageInputRef = useRef()\r\n\r\n    async function handleMediaChange(event) {\r\n        const file = event.target.files[0]\r\n\r\n        if (file) {\r\n            // Cho toàn bộ sự kiện khi click vào nút tải ảnh, tải video biêt đang có 1 file đang được hiển thị\r\n            isActive.current = true\r\n\r\n            // Render\r\n            const resize = await resizeFile(file)\r\n            setMedia(resize)\r\n        }\r\n    }\r\n\r\n    const resizeFile = (file) => {\r\n        return new Promise(resolve => {\r\n            Resizer.imageFileResizer(file, 1920, 1080, 'JPEG', 100, 0,\r\n                uri => {\r\n                    resolve(uri);\r\n                }, 'file');\r\n        })\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <img\r\n                className=\"icon-heading\"\r\n                src=\"https://img.icons8.com/pulsar-color/48/pictures-folder.png\"\r\n                alt=\"pictures-folder\"\r\n                onClick={(e) => !isActive.current && imageInputRef.current.click()}\r\n            />\r\n\r\n            <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                style={{ display: 'none' }}\r\n                onChange={handleMediaChange}\r\n                ref={imageInputRef}\r\n                multiple\r\n                name='image'\r\n            />\r\n        </div>\r\n    );\r\n}"],"mappings":";;AAAA,SAASA,MAAM,QAAQ,OAAO;AAC9B,OAAOC,OAAO,MAAM,0BAA0B;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AANA,SAAAC,MAAA,IAAAC,OAAA;AAOA,eAAe,SAASC,iBAAiBA,CAAC;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC9D,MAAMC,aAAa,GAAGR,MAAM,CAAC,CAAC;EAE9B,eAAeS,iBAAiBA,CAACC,KAAK,EAAE;IACpC,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAElC,IAAIF,IAAI,EAAE;MACN;MACAN,QAAQ,CAACS,OAAO,GAAG,IAAI;;MAEvB;MACA,MAAMC,MAAM,GAAG,MAAMC,UAAU,CAACL,IAAI,CAAC;MACrCL,QAAQ,CAACS,MAAM,CAAC;IACpB;EACJ;EAEA,MAAMC,UAAU,GAAIL,IAAI,IAAK;IACzB,OAAO,IAAIM,OAAO,CAACC,OAAO,IAAI;MAC1BjB,OAAO,CAACkB,gBAAgB,CAACR,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,EACrDS,GAAG,IAAI;QACHF,OAAO,CAACE,GAAG,CAAC;MAChB,CAAC,EAAE,MAAM,CAAC;IAClB,CAAC,CAAC;EACN,CAAC;EAED,oBACIjB,OAAA;IAAAkB,QAAA,gBACIlB,OAAA;MACImB,SAAS,EAAC,cAAc;MACxBC,GAAG,EAAC,4DAA4D;MAChEC,GAAG,EAAC,iBAAiB;MACrBC,OAAO,EAAGC,CAAC,IAAK,CAACrB,QAAQ,CAACS,OAAO,IAAIN,aAAa,CAACM,OAAO,CAACa,KAAK,CAAC;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtE,CAAC,eAEF5B,OAAA;MACI6B,IAAI,EAAC,MAAM;MACXC,MAAM,EAAC,SAAS;MAChBC,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAC3BC,QAAQ,EAAE3B,iBAAkB;MAC5B4B,GAAG,EAAE7B,aAAc;MACnB8B,QAAQ;MACRC,IAAI,EAAC;IAAO;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd;AAACxB,EAAA,CA7CuBH,iBAAiB;AAAAoC,EAAA,GAAjBpC,iBAAiB;AAAA,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}