{"ast":null,"code":"import axios from 'axios';\nconst endpoint = `${process.env.REACT_APP_SERVER_SERVICE}/api/musics`;\nclass MusicService {\n  static async createMusic(infoSong, music, album, isYoutube = false) {\n    let response;\n    try {\n      if (isYoutube) {\n        const formData = new FormData();\n        formData.append('infoSong', JSON.stringify(infoSong));\n        response = await axios.post(`${endpoint}`, formData, {\n          headers: {\n            'access_token': localStorage.getItem('access_token')\n          }\n        });\n      } else {\n        const formData = new FormData();\n        formData.append('song', music);\n        formData.append('albumCover', album);\n        formData.append('infoSong', JSON.stringify(infoSong));\n        response = await axios.post(`${endpoint}`, formData, {\n          headers: {\n            'access_token': localStorage.getItem('access_token')\n          }\n        });\n      }\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async getMusics() {\n    try {\n      const response = await axios.get(`${endpoint}`, {\n        headers: {\n          'access_token': localStorage.getItem('access_token')\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async deleteMusic(musicId) {\n    try {\n      const response = await axios.delete(`${endpoint}/${musicId}`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async getMusicByOwnerId(ownerId, limit, offset) {\n    try {\n      const response = await axios.get(`${endpoint}/owner/${ownerId}`, {\n        params: {\n          limit,\n          offset\n        },\n        headers: {\n          'access_token': localStorage.getItem('access_token')\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\nexport default MusicService;","map":{"version":3,"names":["axios","endpoint","process","env","REACT_APP_SERVER_SERVICE","MusicService","createMusic","infoSong","music","album","isYoutube","response","formData","FormData","append","JSON","stringify","post","headers","localStorage","getItem","data","error","console","log","getMusics","get","deleteMusic","musicId","delete","getMusicByOwnerId","ownerId","limit","offset","params"],"sources":["C:/Users/quoct/Data/Projects/secure-book-v2-test (NCKH)/client/src/services/music.service.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst endpoint = `${process.env.REACT_APP_SERVER_SERVICE}/api/musics`;\r\nclass MusicService {\r\n  static async createMusic(infoSong, music, album, isYoutube = false) {\r\n    let response\r\n\r\n    try {\r\n      if (isYoutube) {\r\n        const formData = new FormData()\r\n        formData.append('infoSong', JSON.stringify(infoSong))\r\n\r\n        response = await axios.post(`${endpoint}`, formData, {\r\n          headers: {\r\n            'access_token': localStorage.getItem('access_token')\r\n          }\r\n        })\r\n      } else {\r\n        const formData = new FormData()\r\n        formData.append('song', music)\r\n        formData.append('albumCover', album)\r\n        formData.append('infoSong', JSON.stringify(infoSong))\r\n\r\n        response = await axios.post(`${endpoint}`, formData, {\r\n          headers: {\r\n            'access_token': localStorage.getItem('access_token')\r\n          }\r\n        })\r\n      }\r\n      return response.data\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  static async getMusics() {\r\n    try {\r\n      const response = await axios.get(`${endpoint}`, {\r\n        headers: {\r\n          'access_token': localStorage.getItem('access_token')\r\n        }\r\n      })\r\n\r\n      return response.data\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  static async deleteMusic(musicId) {\r\n    try {\r\n      const response = await axios.delete(`${endpoint}/${musicId}`)\r\n      return response.data\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  static async getMusicByOwnerId(ownerId, limit, offset) {\r\n    try {\r\n      const response = await axios.get(`${endpoint}/owner/${ownerId}`, {\r\n        params: {\r\n          limit,\r\n          offset\r\n        },\r\n        headers: {\r\n          'access_token': localStorage.getItem('access_token')\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport default MusicService"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAI,GAAEC,OAAO,CAACC,GAAG,CAACC,wBAAyB,aAAY;AACrE,MAAMC,YAAY,CAAC;EACjB,aAAaC,WAAWA,CAACC,QAAQ,EAAEC,KAAK,EAAEC,KAAK,EAAEC,SAAS,GAAG,KAAK,EAAE;IAClE,IAAIC,QAAQ;IAEZ,IAAI;MACF,IAAID,SAAS,EAAE;QACb,MAAME,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACT,QAAQ,CAAC,CAAC;QAErDI,QAAQ,GAAG,MAAMX,KAAK,CAACiB,IAAI,CAAE,GAAEhB,QAAS,EAAC,EAAEW,QAAQ,EAAE;UACnDM,OAAO,EAAE;YACP,cAAc,EAAEC,YAAY,CAACC,OAAO,CAAC,cAAc;UACrD;QACF,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAMR,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEN,KAAK,CAAC;QAC9BI,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAEL,KAAK,CAAC;QACpCG,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACT,QAAQ,CAAC,CAAC;QAErDI,QAAQ,GAAG,MAAMX,KAAK,CAACiB,IAAI,CAAE,GAAEhB,QAAS,EAAC,EAAEW,QAAQ,EAAE;UACnDM,OAAO,EAAE;YACP,cAAc,EAAEC,YAAY,CAACC,OAAO,CAAC,cAAc;UACrD;QACF,CAAC,CAAC;MACJ;MACA,OAAOT,QAAQ,CAACU,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF;EAEA,aAAaG,SAASA,CAAA,EAAG;IACvB,IAAI;MACF,MAAMd,QAAQ,GAAG,MAAMX,KAAK,CAAC0B,GAAG,CAAE,GAAEzB,QAAS,EAAC,EAAE;QAC9CiB,OAAO,EAAE;UACP,cAAc,EAAEC,YAAY,CAACC,OAAO,CAAC,cAAc;QACrD;MACF,CAAC,CAAC;MAEF,OAAOT,QAAQ,CAACU,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF;EAEA,aAAaK,WAAWA,CAACC,OAAO,EAAE;IAChC,IAAI;MACF,MAAMjB,QAAQ,GAAG,MAAMX,KAAK,CAAC6B,MAAM,CAAE,GAAE5B,QAAS,IAAG2B,OAAQ,EAAC,CAAC;MAC7D,OAAOjB,QAAQ,CAACU,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF;EAEA,aAAaQ,iBAAiBA,CAACC,OAAO,EAAEC,KAAK,EAAEC,MAAM,EAAE;IACrD,IAAI;MACF,MAAMtB,QAAQ,GAAG,MAAMX,KAAK,CAAC0B,GAAG,CAAE,GAAEzB,QAAS,UAAS8B,OAAQ,EAAC,EAAE;QAC/DG,MAAM,EAAE;UACNF,KAAK;UACLC;QACF,CAAC;QACDf,OAAO,EAAE;UACP,cAAc,EAAEC,YAAY,CAACC,OAAO,CAAC,cAAc;QACrD;MACF,CAAC,CAAC;MACF,OAAOT,QAAQ,CAACU,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF;AACF;AAEA,eAAejB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}